<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  
  <title>Como instalar o Arch Linux (versão set.2012) em um ASUS Eee PC</title>
<link href="./theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="./" type="application/atom+xml" rel="alternate" title="Só mais um Carneiro ATOM Feed" />
  
  <!--[if IE]>
  <style type="text/css"> 
  .twoColFixRtHdr #mainContent { zoom: 1; }
  </style>
  <![endif]-->

</head>

<body>

<div id="container">

  <div id="header">
  <h1><a href=".">Só mais um Carneiro</h1>
  
  </div><!-- end #header -->
  
  <div id="topMenu">
  
    <ul>
    	<li><a href=".">Início</a></li>
        <li>&ndash;</li>
        <li><a href="./archives.html">Arquivo</a></li>
        
    </ul>
  
  </div><!-- end #topMenu -->

  <div id="sidebar">
    <div style="height:120px">&nbsp;</div>
	<h3>Páginas</h3>
	<ul>
	</ul>
		<h3>Diga-me com quem andas...</h3>
		<ul>
                    <li><a href="http://calango.club/">Calango Hacker Clube</a></li>
                    <li><a href="http://www.blogdoje.com.br/">Jerônimo</a></li>
                    <li><a href="http://tecno-artesanato.tumblr.com/">Phil Jones</a></li>
                    <li><a href="http://getpelican.com/">Pelican</a></li>
                    <li><a href="http://python.org/">Python.org</a></li>
		</ul>
        <h3>Tags</h3>
        <ul>
                <li><a href="./tag/educacao.html">educação</a></li>
                <li><a href="./tag/cidadania.html">cidadania</a></li>
                <li><a href="./tag/raspberry-pi.html">raspberry pi</a></li>
                <li><a href="./tag/minecraft.html">minecraft</a></li>
                <li><a href="./tag/python.html">python</a></li>
                <li><a href="./tag/dados-abertos.html">dados abertos</a></li>
                <li><a href="./tag/linux.html">linux</a></li>
                <li><a href="./tag/debian.html">debian</a></li>
        </ul>
    
  
  </div><!-- end #sidebar -->

  <div id="mainContent">
  	
 


<div class="blogItem">
    
      <h2><a href="./Como-instalar-o-Arch-Linux-(versão-set.2012)-em-um-ASUS-Eee-PC.html">Como instalar o Arch Linux (versão set.2012) em um ASUS Eee PC</a></h2>
      <h3>Qua 12 setembro 2012</h3>
      
  <p><strong>UPDATE2:</strong> Parti para outra. Depois de muita luta consegui instalar o
Manjaro neste mesmo netbook. Se estiver procurando uma distribuição
leve, compatível com o Arch Linux e que já vem com uma interface
gráfica, olhe meu post abaixo:<br />
<a href="http://umcarneiro.blogspot.com.br/2013/08/manjaro-um-arch-linux-para-iniciantes.html">http://umcarneiro.blogspot.com.br/2013/08/manjaro-um-arch-linux-para-iniciantes.html</a><br />
<strong><br />
UPDATE:</strong> Escrevi de novo sobre instalação do Arch Linux neste outro
post:
 <a href="http://umcarneiro.blogspot.com.br/2013/02/instalando-arch-linux-20130104.html">http://umcarneiro.blogspot.com.br/2013/02/instalando-arch-linux-20130104.html</a><br />
Nele, falo da versão 2013.01.04, instalando em um desktop e usando o
Linux Mint para baixar a imagem e gravar no pendrive. Se você está
usando Windows e/ou instalando em um netbook, continue por aqui mesmo.</p>
<p><strong><br />
Ingredientes</strong></p>
<div class="separator" style="clear: both; text-align: center;">

[![](http://4.bp.blogspot.com/-yceTPnyM8Wc/UFjbQaE-oiI/AAAAAAAAA1Q/g7FRoUf4P4k/s320/01_ingredientes_archlinux_eeepc.jpg)](http://4.bp.blogspot.com/-yceTPnyM8Wc/UFjbQaE-oiI/AAAAAAAAA1Q/g7FRoUf4P4k/s1600/01_ingredientes_archlinux_eeepc.jpg)

</div>

<p>Você vai precisar de:</p>
<ul>
<li>1 (um) Asus Eee PC (o meu é um 2g Surf, cor-de-rosa, mas você pode
    usar outro computador)</li>
<li>1 (um) outro computador qualquer para ler instruções diversas (pode
    ser um tablet)</li>
<li>1 (uma) mídia removível - pode ser um pendrive ou um cartão SD</li>
</ul>
<div>

Ingredientes opcionais:

</div>

<div>

-   1 (um) teclado USB (as teclas do meu Eee PC são bem pequenas, então
    recomendo)
-   1 (uma) mídia removível adicional (para instalar o sistema
    operacional sem estragar a instalação original)
-   1 (um) hub USB (para facilitar o troca-troca de mídias e teclado
    entre computadores)

<div>

</div>

</div>

<p><strong>Motivação</strong></p>
<p>Tenho um Asus Eee PC 2g Surf. Ganhei há um tempo, de uma amiga, mas
ainda não consegui usar muito. A Asus abandonou o projeto e não libera
atualizações para ele. Com isso, os softwares dele ficaram
desatualizados. Ao tentar entrar no youtube com ele, por exemplo, vários
vídeos não podem ser vistos porque o browser está em uma versão muito
antiga.</p>
<p>Eu baixei e tentei instalar várias distribuições linux nele, mas como
ele só tem 2GB de espaço interno (em um drive SSD), os próprios
softwares de instalação não me permitem.</p>
<p>Foi aí que descobri o Arch Linux, um linux feito à moda antiga. Ele é
uma distribuição que você instala crua, sem nenhuma interface gráfica
nem nada e a partir daí vai incluindo os pacotes que lhe interessa. Por
isso, ele não precisa de enormes requisitos iniciais de hardware, como
outras distribuições. Isso faz dele a distruibuição linux perfeita para
computadores antigos e de pouca capacidade, como o meu Asuszinho Rosa
(sim, ele é cor-de-rosa!).</p>
<p>Meu único problema com o Xandros que vem instalado no Eee PC é sua
desatualização, por isso não quis me desfazer dele por completo. Eu acho
que ele é um sistema bem feito e foi bem instalado, permitindo restaurar
a instalação de fábrica em segundos. Eu queria preservar esta instalação
e instalar outro linux em um pendrive (ou num cartão SD, mais tarde),
então sai pesquisando.</p>
<p>Depois de muito estudar, tentar e errar, cheguei à seguinte fórmula para
instalação (inicial, ainda sem interface gráfica) do Arch Linux no Eee
PC:</p>
<p>Utilizei dois pendrives, um de 1GB (para conter a ISO e rodar o sistema
de instalação) e um de 16GB para ser o destino da instalação (eu não
quis usar o drive interno do laptop para isso e ainda não tenho um
cartão SD adequado)</p>
<p><strong>Modo de Preparo</strong> (a receita propriamente dita)</p>
<div class="separator" style="clear: both; text-align: center;">

[![](http://3.bp.blogspot.com/-7UABkpt7BDk/UFjcuaBGGOI/AAAAAAAAA1Y/ffssswPIIT0/s320/02_instalando_archlinux_eeepc.jpg)](http://3.bp.blogspot.com/-7UABkpt7BDk/UFjcuaBGGOI/AAAAAAAAA1Y/ffssswPIIT0/s1600/02_instalando_archlinux_eeepc.jpg)

</div>

<ol>
<li>Baixe a mídia de instalação (usei a versão de 12 de agosto de 2012 -
    archlinux-2012.09.07-dual.iso)<br />
<a href="http://www.archlinux.org/download/">http://www.archlinux.org/download/</a></li>
<li>Baixe o UNetbootin (usei a versão windows-578);<br />
<a href="http://unetbootin.sourceforge.net/">http://unetbootin.sourceforge.net/</a></li>
<li>Formate o Pendrive e dê a ele o nome de PENDRIVE1GB</li>
<li>Instale a imagem iso no pendrive de 1GB usando o UNetbootin;</li>
<li>
<p>Ajuste o arquivo syslinux.cfg gerado pelo UNetbootin. para incluir o
    label do pendrive de 1GB (ver
    <a href="https://wiki.archlinux.org/index.php/USB_Installation_Media#UNetbootin">https://wiki.archlinux.org/index.php/USB_Installation_Media#UNetbootin</a>.</p>
<ul>
<li>Adicione uma variável archisolabel com o nome do pendrive na
    linha append, como abaixo:<br />
<code>APPEND initrd=/ubninit ../../ archisolabel=PENDRIVE1GB</code></li>
</ul>
</li>
<li>
<p>Insira o pendrive no Eee PC e dê boot por ele. No Eee PC, você tem
    que usar a entrada USB da esquerda e apertar ESC várias vezes
    enquanto ele inicia. Você vai ver um menu de inicialização do
    computador e outro recém criado pelo UNetbootin. Escolha a opção
    default de cada um deles.
    <p>
    OBS: a partir daqui o roteiro oficial de instalação do arch
    (<a href="https://wiki.archlinux.org/index.php/Installation_Guide">https://wiki.archlinux.org/index.php/Installation_Guide</a>) funciona
    razoavelmente bem, mas vou continuar guiando vocês.<br />
</p>
</li>
<li>se você tiver um teclado usb brasileiro, você pode conectá-lo para
    não ter que usar o tecladinho do eeepc. Para configurar o layout de
    teclado brasileiro use:   <code>loadkeys br-abnt2</code></li>
<li>
<p>particione seus discos usando:<br />
<code>cfdisk /dev/sdx</code>  ATENCAO: para instalar no drive interno do
    eeepc, troque "sdx" por "sda". Se estiver fazendo como eu
    (instalando em um segundo pendrive, maior, plugado na segunda porta
    USB da direita, troque "sdx" por "sdd").<br />
   7.1) eu particionei meu pendrive de 16GB assim:<br />
   7.1.1) 100MB em uma partição ext2 chamada BOOT (bootavel)<br />
   7.1.2) 14GB em uma partição ext2 chamada ARCH<br />
   7.1.3) 2GB (o restante) em uma partição swap chamada SWAP<br />
   OBS: No cfdisk você não põe nome nas partições (labels). Você tem
    que fazer isso depois, ao formatá-las. Se tiver outra distribuição
    linux disponível, use o gparted ou similar, é mais fácil.</p>
<p>8) formate (e nomeie) as partições<br />
   8.1) para formatar partições parecidas com as que mencionei, você faria
o seguinte (assumindo que seu pendrive de 16GB aparece como /dev/sdd):<br />
   8.1.1) mkfs.ext2 -L BOOT /dev/sdd1<br />
   8.1.2) mkfs.ext2 -L ARCH /dev/sdd2</p>
<p>ATENCAO: no linux, maiúsculas e minúsculas são diferentes, então
tenha certeza de que está usando -L (maiúsculo).</p>
<p>9) monte as suas partições<br />
   9.1) no meu caso, fiz assim:<br />
   9.1.1) mount /dev/disk/by-label/ARCH /mnt/<br />
   9.1.2) mkdir /mnt/boot<br />
   9.1.3) mount /dev/disk/by-label/BOOT /mnt/boot<br />
   OBS: repare que parei de usar o /dev/sdd e passei a usar
/dev/disk/by-label, agora que as partições todas têm nome.</p>
<p>10) conecte-se à rede. Eu usei a rede wi-fi de casa usando o comando
wifi-menu, que é muito fácil.</p>
<p>11) instale o sistema básico. Esta é a parte mais demorada. Talvez meu
pendrive de 16GB seja lento, mas em uma das vezes que fiz isso, levou
mais de 30 minutos. O comando é o seguinte:<br />
      pacstrap /mnt base base-devel</p>
<p>12) instale o gerenciador de boot. Eu acho o GRUB muito complicado,
então optei pelo syslinux (o mesmo que o UNetbootin usou para o pendrive
de 1GB):<br />
      pacstrap /mnt syslinux</p>
<p>13) configure a montagem dos discos.<br />
   13.1) as partições boot e root (/) você consegue gerar com o genfstab:<br />
       genfstab -p -L /mnt >> /mnt/etc/fstab<br />
       OBS: repare no "-L" de novo, para usar os nomes das partições.</p>
<p>14) acesse seu novo sistema com o chroot do archlinux:<br />
       arch-chroot /mnt</p>
<p>15) dê um nome para seu laptop:<br />
       echo eeepc > /etc/hostname</p>
<p>16) ajuste o fuso-horário:<br />
       ln -s /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime</p>
<p><p>
17) ajuste suas preferências de idioma:<br />
       nano /etc/locale.conf<br />
   17.1) você deve colocar uma linha neste arquivo. eu usei o seguinte:<br />
       LANG="en_US.UTF-8"  <br />
   17.2) eu deixei inglês, para facilitar a busca por mensagens de erro,
mas você pode colocar português usando<br />
       LANG="pt_BR.UTF-8"<br />
   17.3) depois de editar o locale.conf, você tem que gerar o locale que
você escolheu:<br />
        nano /etc/locale.gen<br />
   17.3.1) tire o comentário (apague o # do início da linha) das linhas
que indicam a configuração que você escolheu:<br />
        #en_US.UTF-8      vira     en_US.UTF-8<br />
    ou  #pt_BR.UTF-8      vira     pt_BR.UTF-8<br />
        OBS: você não precisa escolher uma delas aqui. você pode ativar as
duas linhas. Eu ativei as duas e também a linha pt_BR ISO-8859-1<br />
   17.3.2) execute o gerador de locale:<br />
        locale-gen</p>
</li>
</ol>
<div>

<div
style="background-color: #fcfdfe; border-bottom-width: 0px; border-color: initial; border-image: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #333333; font-family: sans-serif; font-size: 13px; line-height: 19px; padding-bottom: 7px; padding-left: 0px; padding-right: 0px; padding-top: 7px; text-align: left;">

-Install package wifi-select  
ip link set wlan0 up  
pacman -S wifi-select

</div>

<p><div
style="background-color: #fcfdfe; border-bottom-width: 0px; border-color: initial; border-image: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #333333; font-family: sans-serif; font-size: 13px; line-height: 19px; padding-bottom: 7px; padding-left: 0px; padding-right: 0px; padding-top: 7px; text-align: left;"></p>
<p>-Configure Network:<br />
vi /etc/rc.conf<br />
add interface="eth0"<br />
add interface="wlan0"</p>
</div>

<p><div
style="background-color: #fcfdfe; border-bottom-width: 0px; border-color: initial; border-image: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #333333; font-family: sans-serif; font-size: 13px; line-height: 19px; padding-bottom: 7px; padding-left: 0px; padding-right: 0px; padding-top: 7px; text-align: left;"></p>
<p><a href="https://bbs.archlinux.org/viewtopic.php?pid=1162650">https://bbs.archlinux.org/viewtopic.php?pid=1162650</a></p>
</div>

</div>

<ol>
<li>
<p>18) configure o seu arquivo /etc/mkinitcpio.conf<br />
   18.1) você só precisa mexer na linha HOOKS. A minha ficou assim:<br />
       HOOKS="base usb udev filesystems usbinput"<br />
   Explicação: isso basicamente define quais as configurações vão ser
    incluídas no sistema e em que ordem. Repare que não incluí a opção
    "autodetect". Parece que ela é famosa por gerar bugs. Outro ponto digno
    de nota é que eu incluí o "usb" antes do "udev", para ter acesso logo ao
    pendrive de 16GB onde instalei o sistema.</p>
<p></p>
19) crie a imagem inicial do sistema:<br />
       mkinitcpio -p linux</p>
<p>20) configure o gerenciador de boot:<br />
   20.1) edite o arquivo syslinux.cfg :<br />
       nano /boot/syslinux/syslinux.cfg<br />
   20.2) a única linha que você precisa mexer é o APPEND no menu "arch"
(como fizemos no arquivo syslinux do pendrive de 1GB no início). Ela
deve ficar assim:<br />
       APPEND root=/dev/disk/by-label/ARCH ro<br />
       Explicação: originalmente, meu arquivo tinha root=/dev/sda3, mas é
bem melhor fazer referência ao label.<br />
       OBS: repare que estamos usando a partição root, e não boot. É assim
mesmo.<br />
   20.3) execute o instalador do syslinux:<br />
       syslinux-install_update -iam<br />
       Alguém que leu com atenção perguntaria: "eu já não instalei o
syslinux com o pacstrap lá em cima?", e eu respondo. O pacstrap instalou
o pacote do syslinux nesta versão inicial do sistema. Este comando
syslinux-install_update vai tornar o pendrive "bootável" e copiar nele
os arquivos para gerar o menu e tudo mais.</p>
<p><p>
21) defina uma senha de root usando passwd.</p>
</li>
</ol>
<div>

22\) saia do chroot:  
    exit
</p>
23\) desligue o laptop:  
    halt

24\) tire o pendrive de 1GB e coloque o de 16GB na entrada da esquerda.

25\) ligue o computador apertando ESC várias vezes e você entrará no seu
novo archlinux.

Depois de tudo isso, você ainda vai ter que fazer um monte de
configurações (colocar uma interface gráfica por exemplo). Eu também vou
fazer tudo isso, então aguardem um próximo artigo sobre isso.

Quem tiver dificuldades ou estiver usando esse tutorial para resolver
outro tipo de problema, pode deixar um comentário.

Abraço!

<p>
**UPDATE**: <http://umcarneiro.blogspot.com.br/2013/02/instalando-arch-linux-20130104.html>  
(versão 2013.01.04 instalando em Desktop e usando o Linux Mint como
apoio)  
**UPDATE2: **Como instalar o Manjaro (distribuição leve, compatível com
o Arch Linux e que já vem com uma interface gráfica):  
<http://umcarneiro.blogspot.com.br/2013/08/manjaro-um-arch-linux-para-iniciantes.html>

</div>	
      
      <h3 class="blogMeta"></h3>
    
    </div><!-- end #blogItem -->
				
				<!-- end #content -->
  
  </div><!-- end #mainContent -->

<div class="clearfloat"></div>

  <div id="footer">
    <p>Orgulhosamente movido a <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, que roda em <a href="http://python.org">python</a>.
  </div><!-- end #footer -->

</div><!-- end #container -->
</body>
</html>